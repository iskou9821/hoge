<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"  
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd">
	<!-- プロパティファイルから値を読み込む -->
	<bean id="conf" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="location" value="test.properties"/>
	</bean>
	
	<!-- Beanのライフサイクルを指定して作成(「scope」の部分) -->
	<bean id="hoge" scope="prototype" class="local.iskou9821.spring.sample.bean.HogeBean">
		<property name="msg">
			<value>ほげほげ</value>
		</property>
	</bean>
	
	<!-- プロパティファイルから値をセット -->
	<bean id="piyo" class="local.iskou9821.spring.sample.bean.PiyoBean">
		<property name="msg">
			<value>${piyo.piyoValue}</value>
		</property>
	</bean>
	
	<bean id="hoge2" scope="prototype" class="local.iskou9821.spring.sample.bean.HogeBean">
		<property name="msg">
			<value>hogehoge</value>
		</property>
	</bean>
	
	<!-- EL式から値をセット(SpEL) -->
	<bean id="fugaBean" class="local.iskou9821.spring.sample.bean.FugaBean">
		<property name="msg">
			<value>#{hoge.msg}</value>
		</property>
		
		<!-- リスト型のプロパティ -->
		<property name="hoges">
			<list>
				<ref bean="hoge" />
				<ref bean="hoge2" />
			</list>
		</property>
	</bean>
	
	<!-- データベース関連 -->
	<bean id="dataSource" class="org.apache.commons.dbcp.BasicDataSource" destroy-method="close">
		<property name="driverClassName"><value>org.h2.Driver</value></property>
		<property name="url"><value>jdbc:h2:./db/sample</value></property>
		<property name="username"><value>sa</value></property>
		<property name="password"><value></value></property>
	</bean>
	
	<bean id="transactionManager" class="org.springframework.jdbc.datasource.DataSourceTransactionManager">
		<property name="dataSource">
			<ref bean="dataSource"/>
		</property>
	</bean>
</beans>